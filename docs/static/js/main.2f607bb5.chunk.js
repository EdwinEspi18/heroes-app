(this["webpackJsonpheroes-app"]=this["webpackJsonpheroes-app"]||[]).push([[0],{28:function(e,t,c){},35:function(e,t,c){},50:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c(20),s=c.n(n),r=(c(28),c(4)),i=c(5),l="[auth] login",o="[auth] logout",j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(i.a)(Object(i.a)({},t.payload),{},{logged:!0});case o:return{logged:!1};default:return e}},b=Object(a.createContext)(),u=c(9),h=c(2),d=c(12),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(a.useState)(e),c=Object(r.a)(t,2),n=c[0],s=c[1],l=function(){s(e)},o=function(e){var t=e.target;s(Object(i.a)(Object(i.a)({},n),{},Object(d.a)({},t.name,t.value)))};return[n,o,l]},O=c(0),p=function(){var e=Object(h.g)(),t=Object(a.useContext)(b).dispatch,c=m({name:""}),n=Object(r.a)(c,2),s=n[0],i=n[1];return Object(O.jsxs)("div",{className:"container-fluid mt-5 row justify-content-center",children:[Object(O.jsx)("h1",{children:"Login"}),Object(O.jsx)("hr",{}),Object(O.jsx)("div",{className:"col-5",children:Object(O.jsx)("input",{type:"text",placeholder:"Escribe tu nombre",className:"form-control",name:"name",value:s.name,onChange:i,autoComplete:"false"})}),Object(O.jsx)("button",{className:"btn btn-primary d-block w-25 justify-content-center",onClick:function(){var c=window.localStorage.getItem("lastPath")||"/";t({type:l,payload:{name:s.name}}),e.replace(c)},children:"Login"})]})},x=function(){var e=Object(h.g)(),t=Object(a.useContext)(b),c=t.user.name,n=t.dispatch;return Object(O.jsxs)("nav",{className:"navbar navbar-expand-sm navbar-dark bg-dark",children:[Object(O.jsx)(u.b,{className:"navbar-brand",to:"/",children:"HeroesApp"}),Object(O.jsx)("div",{className:"navbar-collapse",children:Object(O.jsxs)("div",{className:"navbar-nav",children:[Object(O.jsx)(u.c,{activeClassName:"active",className:"nav-item nav-link",exact:!0,to:"/marvel",children:"Marvel"}),Object(O.jsx)(u.c,{activeClassName:"active",className:"nav-item nav-link",exact:!0,to:"/dc",children:"DC"})]})}),Object(O.jsx)("div",{className:"navbar-collapse collapse",children:Object(O.jsx)("ul",{className:"navbar-nav ml-auto",children:Object(O.jsx)(u.c,{activeClassName:"active",className:"nav-item nav-link",exact:!0,to:"/search",children:"Search"})})}),Object(O.jsx)("div",{className:"navbar-collapse w-100 order-xl-5 dual-collapse",children:Object(O.jsxs)("ul",{className:"navbar-nav m-xl-auto",children:[Object(O.jsx)("span",{className:"nav-item nav-link text-info",children:c||""}),Object(O.jsx)("button",{className:"nav-item nav-link btn",onClick:function(){n({type:o}),e.replace("/login")},children:"Logout"})]})})]})},v=function(e){var t=Object(a.useRef)(!0),c=Object(a.useState)({data:null,loading:!0,error:null}),n=Object(r.a)(c,2),s=n[0],i=n[1];return Object(a.useEffect)((function(){return function(){t.current=!1}}),[]),Object(a.useEffect)((function(){i({data:null,loading:!0,error:null}),fetch(e).then((function(e){return e.json()})).then((function(e){t.current&&i({data:e,loading:!1,error:null})})).catch(i({data:null,loading:!1,error:!0}))}),[e]),s},f=(c(35),function(e){var t=e.hero,c=t.id,a=t.name,n=t.images,s=t.connections,r=t.biography,i=t.work;return Object(O.jsxs)("article",{className:"card",style:{maxWidth:300},children:[Object(O.jsx)("img",{src:n.lg,className:"card-img-top",alt:a}),Object(O.jsxs)("div",{className:"card-body",children:[Object(O.jsx)("h5",{className:"card-title",children:a}),Object(O.jsx)("p",{className:"card-text",children:s.groupAffiliation})]}),Object(O.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(O.jsxs)("li",{className:"list-group-item",children:["Alineacion:"," ",r.alignment.charAt(0).toUpperCase()+r.alignment.slice(1)]}),Object(O.jsxs)("li",{className:"list-group-item",children:["Primera Aparicion:",Object(O.jsxs)("small",{className:"text-muted",children:[" ",r.firstAppearance]})]}),Object(O.jsxs)("li",{className:"list-group-item",children:["Ocupacion: ",i.occupation]}),Object(O.jsx)("li",{className:"list-group-item",children:Object(O.jsx)(u.b,{to:"./hero/".concat(c),children:"Mas..."})})]})]})}),g=function(e){var t=e.publisher,c=e.senData,a=v("https://akabab.github.io/superhero-api/api/all.json"),n=a.data,s=a.loading,r=a.error,i=[];return n&&(i=function(e,t,c){if(!["DC Comics","Marvel Comics"].includes(t))throw new Error('Publisher "'.concat(t,'" no es correcto'));if(c)throw new Error("Hubo un error de peticion");return e.filter((function(e){return e.biography.publisher===t}))}(n,t,r),c(s)),Object(O.jsx)("section",{className:"mt-1 ml2 row justify-content-center animate__animated animate__fadeIn",children:i.map((function(e){return Object(O.jsx)(f,{hero:e},e.id)}))})},N=function(){return Object(O.jsx)("div",{className:"spinner-border text-success",role:"status",children:Object(O.jsx)("span",{className:"visually-hidden",children:"Loading..."})})},C=function(){var e=Object(a.useState)(!0),t=Object(r.a)(e,2),c=t[0],n=t[1];return Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{children:"Marvel Comics"}),c&&Object(O.jsx)(N,{}),Object(O.jsx)(g,{publisher:"Marvel Comics",senData:function(e){n(e)}})]})},w=function(e){var t=e.history,c=Object(h.i)().heroeId,a=v("https://akabab.github.io/superhero-api/api/id/".concat(c,".json")),n=a.data,s=a.loading;return n||h.a,Object(O.jsxs)("div",{className:"row mt-5",children:[s&&Object(O.jsx)(N,{}),n&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"col-4",children:Object(O.jsx)("img",{className:"img-thumbnail animate__animated animate__fadeInLeft",src:n.images.lg,alt:n.name})}),Object(O.jsxs)("div",{className:"col-8",children:[Object(O.jsx)("h3",{children:n.name}),Object(O.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(O.jsx)("li",{className:"list-group-item",children:Object(O.jsxs)("b",{children:[" ",n.connections.groupAffiliation," "]})}),Object(O.jsxs)("li",{className:"list-group-item",children:[Object(O.jsx)("b",{children:"Publisher:"})," ",n.biography.publisher]}),Object(O.jsxs)("li",{className:"list-group-item",children:[Object(O.jsx)("b",{children:"First appearance: "})," ",n.biography.firstAppearance]})]}),Object(O.jsx)("h5",{children:"Characters"}),Object(O.jsx)("p",{children:n.name}),Object(O.jsx)("button",{className:"btn btn-outline-info",onClick:function(){t.length<=2?t.push("/"):t.goBack()},children:"Return"})]})]})]})},y=function(){var e=Object(a.useState)(!0),t=Object(r.a)(e,2),c=t[0],n=t[1];return Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{children:"Dc Comics"}),c&&Object(O.jsx)(N,{}),Object(O.jsx)(g,{publisher:"DC Comics",senData:function(e){n(e)}})]})},k=c(23),S=c.n(k),A=function(){var e=Object(h.g)(),t=Object(h.h)(),c=S.a.parse(t.search).q,a=void 0===c?"":c,n=m({search:a}),s=Object(r.a)(n,2),i=s[0],l=s[1],o=[],j=v("https://akabab.github.io/superhero-api/api/all.json"),b=j.data,u=j.error;b&&o.push(function(e,t,c){if(c)throw new Error("Hubo un error de peticion");return t.find((function(t){return t.name===e}))}(a.charAt(0).toUpperCase()+a.slice(1),b,u));return void 0===o[0]&&o.pop(),Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{children:"SearchScreen"}),Object(O.jsx)("hr",{}),Object(O.jsxs)("div",{className:"row",children:[Object(O.jsxs)("div",{className:"col-5",children:[Object(O.jsx)("h4",{children:"Search Form"}),Object(O.jsx)("hr",{}),Object(O.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.push("?q=".concat(i.search))},children:[Object(O.jsx)("input",{type:"text",placeholder:"Find Your Heroe",className:"form-control",name:"search",value:i.search,onChange:l,autoComplete:"false"}),Object(O.jsx)("button",{type:"submit",className:"btn m-1 d-block btn-outline-primary",children:"Search"})]})]}),Object(O.jsxs)("div",{className:"col-7",children:[Object(O.jsx)("h4",{children:"Results"}),""===a&&Object(O.jsxs)("div",{className:"alert alert-info",children:["Search a hero ",o.length]}),0===o.length&&Object(O.jsxs)("div",{className:"alert alert-danger",children:["There is no a hero with ",a]}),o.length>=1&&o.map((function(e){return Object(O.jsx)(f,{hero:e},e.id)}))]})]})]})},I=function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(x,{}),Object(O.jsx)("div",{className:"container mt-4",children:Object(O.jsxs)(h.d,{children:[Object(O.jsx)(h.b,{exact:!0,path:"/marvel",component:C}),Object(O.jsx)(h.b,{exact:!0,path:"/hero/:heroeId",component:w}),Object(O.jsx)(h.b,{exact:!0,path:"/dc",component:y}),Object(O.jsx)(h.b,{exact:!0,path:"/search",component:A}),Object(O.jsx)(h.a,{to:"/marvel"})]})})]})},D=c(13),E=function(e){var t=e.isAuth,c=e.component,a=Object(D.a)(e,["isAuth","component"]);return window.localStorage.setItem("lastPath",a.location.pathname),Object(O.jsx)(h.b,Object(i.a)(Object(i.a)({},a),{},{component:function(e){return t?Object(O.jsx)(c,Object(i.a)({},e)):Object(O.jsx)(h.a,{to:"/login"})}}))},_=function(e){var t=e.isAuth,c=e.component,a=Object(D.a)(e,["isAuth","component"]);return Object(O.jsx)(h.b,Object(i.a)(Object(i.a)({},a),{},{component:function(e){return t?Object(O.jsx)(h.a,{to:"/"}):Object(O.jsx)(c,Object(i.a)({},e))}}))},P=function(){var e=Object(a.useContext)(b).user;return Object(O.jsx)(u.a,{children:Object(O.jsx)("div",{children:Object(O.jsxs)(h.d,{children:[Object(O.jsx)(_,{exact:!0,isAuth:e.logged,path:"/login",component:p}),Object(O.jsx)(E,{isAuth:e.logged,path:"/",component:I})]})})})},F=function(){return JSON.parse(window.localStorage.getItem("user"))||{logged:!1}},L=function(){var e=Object(a.useReducer)(j,{},F),t=Object(r.a)(e,2),c=t[0],n=t[1];return Object(a.useEffect)((function(){window.localStorage.setItem("user",JSON.stringify(c))}),[c]),Object(O.jsx)("div",{children:Object(O.jsx)(b.Provider,{value:{user:c,dispatch:n},children:Object(O.jsx)(P,{})})})};s.a.render(Object(O.jsx)(L,{}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.2f607bb5.chunk.js.map